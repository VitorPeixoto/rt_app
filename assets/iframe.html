<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <!--   See Using Zendesk Garden:
        https://developer.zendesk.com/apps/docs/developer-guide/setup#using-zendesk-garden
        https://garden.zendesk.com/css-components/bedrock/
        https://garden.zendesk.com/css-components/utilities/typography/
    -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="fontawesome/css/all.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <script id="requester-template" type="text/x-handlebars-template">
        <!--<div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Search here" aria-label="Search here" aria-describedby="button-addon">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" id="button-addon"><i class="fas fa-search"></i></button>
            </div>
        </div>-->
        {{#if tickets}}
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Subject</th>
                        <th scope="col">Status</th>
                    </tr>
                </thead>            
                <tbody>
                    {{#each tickets}}
                    <tr class="clickable" onclick="redirect('/agent/tickets', {{ this.id }})">
                        <th scope="row">{{ this.id }}</th>
                        <td>{{ this.subject }}</td>
                        <td><span class="badge {{ this.status }}">{{ this.status }}</span></td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        {{else}}
            <center>No related tickets found</center>
        {{/if}}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src="https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@4.3.3/dist/handlebars.min.js"></script>
    <script src="js/main.js"></script>
    
    <div id="content"></div>
    
</body>
</html>
